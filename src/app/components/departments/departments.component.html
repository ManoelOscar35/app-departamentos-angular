<main>
    <div class="margem">
        <div class="card" style="width: 20rem; height: 8rem;" [ngStyle]="{'background-color': this.departments.length > 0 ? 'green' : 'red'}">
            <div class="card-body">
              <h2>Departamentos: {{this.departments.length}}</h2>
            </div>
        </div>
    </div>
    <div class="margem2">
        <h2 class="margem-right">Departamentos:</h2> 
        <br>
        <br>
        <div class="card" style="width: 75%">
            <div class="flex">
                <form class="formContainer" role="search" style="width: 20%">
                    <input 
                        class="form-control me-2" 
                        #termoDaPesquisa
                        (keyup)="pesquisa(termoDaPesquisa.value)" type="search" placeholder="Pesquisar" aria-label="Search">
                </form>
                <button type="button" class="btn btn-primary me-5" (click)="openDialog()">+ Adicionar</button>
            </div>
            <div class="card-body">
                <table class="table" style="width: 100%">
                    <thead>
                    <tr>
                        <th scope="col">ID</th>
                        <th scope="col">Nome</th>
                        <th scope="col">Ações</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let d of departments">
                        <th scope="row">{{d.id}}</th>
                        <td>{{d.name}}</td>
                        <td>
                            <button type="button" class="btn btn-secondary me-2" (click)="openDialogEdit(d.name, d.id)">Editar</button>
                            <button type="button" class="btn btn-danger" (click)="delete(d.id)">Deletar</button>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</main>
